{"ast":null,"code":"// import mixpanel from 'mixpanel-browser';\n// Мок-объект с логированием для разработки\nconst mixpanel = {\n  init: () => {},\n  track: (event, props) => {\n    console.log(`[Mixpanel mock] Event: ${event}`, props);\n  }\n};\nconst PROJECT_TOKEN = '';\nmixpanel.init(PROJECT_TOKEN, {\n  debug: false,\n  track_pageview: false,\n  persistence: 'localStorage'\n});\nconst defaultProps = () => ({\n  referrer: document.referrer || 'direct',\n  device_type: navigator.userAgent,\n  timestamp: new Date().toISOString()\n});\n\n// Трекинг событий открытия квиза\nexport function trackQuizViewed() {\n  mixpanel.track('quiz_viewed', defaultProps());\n}\n\n// Трекинг старта квиза\nexport function trackQuizStarted(step_index = 0) {\n  mixpanel.track('quiz_started', {\n    step_index,\n    ...defaultProps()\n  });\n}\n\n// Трекинг выбора варианта ответа\nexport function trackQuizOptionSelected({\n  step_index,\n  option_index,\n  option_text\n}) {\n  mixpanel.track('quiz_option_selected', {\n    step_index,\n    option_index,\n    option_text,\n    ...defaultProps()\n  });\n}\n\n// Трекинг завершения шага (любой шаг)\nexport function trackQuizStepCompleted({\n  step_index,\n  step_id,\n  value,\n  ms_spent\n}) {\n  mixpanel.track('quiz_step_completed', {\n    step_index,\n    step_id,\n    value,\n    ms_spent,\n    ...defaultProps()\n  });\n}\n\n// Трекинг ввода юзернейма\nexport function trackUsernameEntered({\n  step_index,\n  username_hashed\n}) {\n  mixpanel.track('quiz_username_entered', {\n    step_index,\n    username: username_hashed,\n    ...defaultProps()\n  });\n}\n\n// Показ блока результатов (анализа)\nexport function trackQuizAnalysisShown({\n  perc_nonmutual,\n  perc_bots,\n  perc_inactive\n}) {\n  mixpanel.track('quiz_analysis_shown', {\n    perc_nonmutual,\n    perc_bots,\n    perc_inactive,\n    ...defaultProps()\n  });\n}\n\n// Клик детального отчёта\nexport function trackQuizReportClick({\n  perc_nonmutual,\n  perc_bots,\n  perc_inactive\n}) {\n  mixpanel.track('quiz_report_cta_click', {\n    perc_nonmutual,\n    perc_bots,\n    perc_inactive,\n    ...defaultProps()\n  });\n}\n\n// Показ paywall\nexport function trackPaywallShown({\n  offer_type,\n  price,\n  plan,\n  step_index\n}) {\n  mixpanel.track('paywall_shown', {\n    offer_type,\n    price,\n    plan,\n    step_index,\n    ...defaultProps()\n  });\n}\n\n// Клик по кнопке оплаты\nexport function trackPaywallCtaClick({\n  offer_type,\n  price,\n  plan,\n  step_index\n}) {\n  mixpanel.track('paywall_cta_click', {\n    offer_type,\n    price,\n    plan,\n    step_index,\n    ...defaultProps()\n  });\n}\n\n// Успешная покупка\nexport function trackPurchaseSuccess({\n  price,\n  plan,\n  payment_provider\n}) {\n  mixpanel.track('purchase_success', {\n    price,\n    plan,\n    payment_provider,\n    ...defaultProps()\n  });\n}\n\n// Ошибка или отмена оплаты\nexport function trackPurchaseFailed({\n  price,\n  plan,\n  error_type\n}) {\n  mixpanel.track('purchase_failed', {\n    price,\n    plan,\n    error_type,\n    ...defaultProps()\n  });\n}\n\n// Завершение квиза\nexport function trackQuizCompleted({\n  steps_completed,\n  username_masked\n}) {\n  mixpanel.track('quiz_completed', {\n    steps_completed,\n    username: username_masked,\n    ...defaultProps()\n  });\n}\n\n// Отказ/выход с квиза\nexport function trackQuizAbandoned({\n  step_index,\n  reason\n}) {\n  mixpanel.track('quiz_abandoned', {\n    step_index,\n    reason,\n    ...defaultProps()\n  });\n}","map":{"version":3,"names":["mixpanel","init","track","event","props","console","log","PROJECT_TOKEN","debug","track_pageview","persistence","defaultProps","referrer","document","device_type","navigator","userAgent","timestamp","Date","toISOString","trackQuizViewed","trackQuizStarted","step_index","trackQuizOptionSelected","option_index","option_text","trackQuizStepCompleted","step_id","value","ms_spent","trackUsernameEntered","username_hashed","username","trackQuizAnalysisShown","perc_nonmutual","perc_bots","perc_inactive","trackQuizReportClick","trackPaywallShown","offer_type","price","plan","trackPaywallCtaClick","trackPurchaseSuccess","payment_provider","trackPurchaseFailed","error_type","trackQuizCompleted","steps_completed","username_masked","trackQuizAbandoned","reason"],"sources":["S:/веб/perpl/src/mixpanel.js"],"sourcesContent":["// import mixpanel from 'mixpanel-browser';\r\n// Мок-объект с логированием для разработки\r\nconst mixpanel = {\r\n  init: () => {},\r\n  track: (event, props) => {\r\n    console.log(`[Mixpanel mock] Event: ${event}`, props);\r\n  },\r\n};\r\nconst PROJECT_TOKEN = '';\r\n\r\nmixpanel.init(PROJECT_TOKEN, {\r\n  debug: false,\r\n  track_pageview: false,\r\n  persistence: 'localStorage',\r\n});\r\n\r\nconst defaultProps = () => ({\r\n  referrer: document.referrer || 'direct',\r\n  device_type: navigator.userAgent,\r\n  timestamp: new Date().toISOString(),\r\n});\r\n\r\n// Трекинг событий открытия квиза\r\nexport function trackQuizViewed() {\r\n  mixpanel.track('quiz_viewed', defaultProps());\r\n}\r\n\r\n// Трекинг старта квиза\r\nexport function trackQuizStarted(step_index = 0) {\r\n  mixpanel.track('quiz_started', { step_index, ...defaultProps() });\r\n}\r\n\r\n// Трекинг выбора варианта ответа\r\nexport function trackQuizOptionSelected({ step_index, option_index, option_text }) {\r\n  mixpanel.track('quiz_option_selected', { step_index, option_index, option_text, ...defaultProps() });\r\n}\r\n\r\n// Трекинг завершения шага (любой шаг)\r\nexport function trackQuizStepCompleted({ step_index, step_id, value, ms_spent }) {\r\n  mixpanel.track('quiz_step_completed', { step_index, step_id, value, ms_spent, ...defaultProps() });\r\n}\r\n\r\n// Трекинг ввода юзернейма\r\nexport function trackUsernameEntered({ step_index, username_hashed }) {\r\n  mixpanel.track('quiz_username_entered', { step_index, username: username_hashed, ...defaultProps() });\r\n}\r\n\r\n// Показ блока результатов (анализа)\r\nexport function trackQuizAnalysisShown({ perc_nonmutual, perc_bots, perc_inactive }) {\r\n  mixpanel.track('quiz_analysis_shown', { perc_nonmutual, perc_bots, perc_inactive, ...defaultProps() });\r\n}\r\n\r\n// Клик детального отчёта\r\nexport function trackQuizReportClick({ perc_nonmutual, perc_bots, perc_inactive }) {\r\n  mixpanel.track('quiz_report_cta_click', { perc_nonmutual, perc_bots, perc_inactive, ...defaultProps() });\r\n}\r\n\r\n// Показ paywall\r\nexport function trackPaywallShown({ offer_type, price, plan, step_index }) {\r\n  mixpanel.track('paywall_shown', { offer_type, price, plan, step_index, ...defaultProps() });\r\n}\r\n\r\n// Клик по кнопке оплаты\r\nexport function trackPaywallCtaClick({ offer_type, price, plan, step_index }) {\r\n  mixpanel.track('paywall_cta_click', { offer_type, price, plan, step_index, ...defaultProps() });\r\n}\r\n\r\n// Успешная покупка\r\nexport function trackPurchaseSuccess({ price, plan, payment_provider }) {\r\n  mixpanel.track('purchase_success', { price, plan, payment_provider, ...defaultProps() });\r\n}\r\n\r\n// Ошибка или отмена оплаты\r\nexport function trackPurchaseFailed({ price, plan, error_type }) {\r\n  mixpanel.track('purchase_failed', { price, plan, error_type, ...defaultProps() });\r\n}\r\n\r\n// Завершение квиза\r\nexport function trackQuizCompleted({ steps_completed, username_masked }) {\r\n  mixpanel.track('quiz_completed', { steps_completed, username: username_masked, ...defaultProps() });\r\n}\r\n\r\n// Отказ/выход с квиза\r\nexport function trackQuizAbandoned({ step_index, reason }) {\r\n  mixpanel.track('quiz_abandoned', { step_index, reason, ...defaultProps() });\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}